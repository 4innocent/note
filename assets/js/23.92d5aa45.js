(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{427:function(t,a,r){"use strict";r.r(a);var i=r(56),n=Object(i.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"stringtable"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#stringtable"}},[t._v("#")]),t._v(" StringTable")]),t._v(" "),r("h2",{attrs:{id:"介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),r("ul",[r("li",[t._v("String字符串实现了Serializable表示可被序列化，实现了Comparable表示可以进行比较。")]),t._v(" "),r("li",[t._v("java8及以前String内部使用final char[] value存储，java9开始使用byte[]存储")])]),t._v(" "),r("h2",{attrs:{id:"string的不可变性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#string的不可变性"}},[t._v("#")]),t._v(" String的不可变性")]),t._v(" "),r("p",[t._v("java中的String具有不可变性，表现为：")]),t._v(" "),r("ul",[r("li",[t._v("当对字符串重新赋值时，会重新分配内存空间，定义内容")]),t._v(" "),r("li",[t._v("当对现有字符串进行连接操作时也会重新分配空间，定义内容")]),t._v(" "),r("li",[t._v("当对字符串进行replace时也会重新分配空间，定义内容")]),t._v(" "),r("li",[t._v("String Pool内部使用Hash Table存储，保证不会重复")])]),t._v(" "),r("h2",{attrs:{id:"string的内存分配"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#string的内存分配"}},[t._v("#")]),t._v(" String的内存分配")]),t._v(" "),r("ul",[r("li",[t._v("使用"),r("code",[t._v('""')]),t._v("创建的字符串会直接放入常量池中")]),t._v(" "),r("li",[t._v("其他方式声明的String对象可以使用intern()方法")])]),t._v(" "),r("h2",{attrs:{id:"字符串拼接"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#字符串拼接"}},[t._v("#")]),t._v(" 字符串拼接")]),t._v(" "),r("ol",[r("li",[t._v("字符串常量的拼接在编译期会进行优化，class文件中已经拼接完成，类加载后直接放入字符串常量池中")]),t._v(" "),r("li",[t._v("只要拼接过程中有变量参与，则String对象直接放入堆中，"),r("span",{staticStyle:{color:"red"}},[t._v("如果该变量定义为final，则也会在编译期进行优化放入字符串常量池中")])]),t._v(" "),r("li",[t._v("对拼接结果调用intern方法则直接放入常量池中，并返回地址")])]),t._v(" "),r("h2",{attrs:{id:"intern方法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#intern方法"}},[t._v("#")]),t._v(" intern方法")]),t._v(" "),r("p",[t._v("如果不是使用双引号"),r("code",[t._v('""')]),t._v("声明的String，可以调用String的intern()方法将其放入字符串常量池中节省内存空间。放入之前会检查常量池中是否已经有该字符串，如果有则直接返回该字符串地址，如果没有则将该字符串对象的地址存入字符串常量池（jdk7开始）。"),r("br"),t._v("\n当网站需要存储大量字符串时，可以调用intern方法减少内存消耗。")]),t._v(" "),r("p",[t._v("G1垃圾回收器会进行String去重操作优化内存空间。")])])}),[],!1,null,null,null);a.default=n.exports}}]);